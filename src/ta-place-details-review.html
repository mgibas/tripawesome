<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-rating/paper-rating.html">
<link rel="import" href="star-rating.html">

<dom-module id="ta-place-details-review">
    <template>
        <style include="iron-flex shared-styles">
        :host {
            display: block;
            @apply(--layout-horizontal);
        }
        
        .avatar iron-image {
            width: 50px;
            height: 50px;
            border-radius: 25px;
            background-color: var(--paper-grey-600);
        }
        
        .content {
            @apply(--layout-flex);
            padding-left: 1rem;
            padding-right: 1rem;
        }
        </style>
        <div class="avatar">
            <iron-image sizing="cover" preload fade src="[[_imageUrl]]"></iron-image>
        </div>
        <div class="content">
            <p>[[author]]</p>
            <paper-rating rating="[[rating]]" disabled></paper-rating>
            <p>[[text]]</p>
        </div>
    </template>
    <script>
    (() => {
        class TaPlaceDetailsReview {
            get is() {
                return 'ta-place-details-review';
            }
            get properties() {
                return {
                    authorImageUrl: {
                        type: String
                    },
                    _imageUrl: {
                        type: String,
                        computed: '_computeImageUrl(authorImageUrl)'
                    }
                };
            }
            _computeImageUrl(partialUrl) {
                if (!partialUrl || partialUrl === '') return;
                return `https:${partialUrl}`;
            }
        }
        Polymer(TaPlaceDetailsReview);
    })();
    </script>
</dom-module>
